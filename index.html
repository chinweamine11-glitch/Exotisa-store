
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Exotisa Store - Full Project</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:tahoma;background:#0f172a;color:#e5e7eb}
header{background:#020617;padding:20px;text-align:center;border-bottom:2px solid #1e293b}
header h1{margin:0;color:#38bdf8}
section{padding:20px}
.card{background:#020617;border:1px solid #1e293b;border-radius:12px;padding:15px;margin-bottom:15px}
input,textarea,select,button{
 width:100%;padding:10px;margin:6px 0;border-radius:8px;
 border:1px solid #1e293b;background:#020617;color:#e5e7eb
}
button{background:#38bdf8;color:#020617;font-weight:bold;cursor:pointer}
button:hover{opacity:.9}
.hidden{display:none}
.app{border:1px solid #1e293b;border-radius:10px;padding:10px;margin-bottom:10px}
small{color:#94a3b8}
</style>
</head>
<body>

<header>
<h1>Exotisa Store</h1>
<p>متجر التطبيقات الكامل</p>
</header>

<section class="card">
<h2>المصادقة</h2>
<input id="email" placeholder="البريد الإلكتروني">
<input id="password" type="password" placeholder="كلمة المرور">
<button onclick="login()">تسجيل الدخول</button>
<button onclick="register()">إنشاء حساب</button>
<button onclick="logout()">تسجيل الخروج</button>
<p id="authStatus"></p>
</section>

<section class="card">
<h2>إضافة تطبيق</h2>
<input id="appName" placeholder="اسم التطبيق">
<textarea id="appDesc" placeholder="وصف التطبيق"></textarea>
<button onclick="addApp()">إضافة</button>
</section>

<section class="card">
<h2>التطبيقات</h2>
<div id="apps"></div>
</section>

<script>
const supabase = supabaseJs.createClient(
 "https://qjfpkwyglveukzfazmzo.supabase.co",
 "PUT_PUBLIC_ANON_KEY_HERE"
);

async function login(){
 const {data,error}=await supabase.auth.signInWithPassword({
  email:email.value,password:password.value
 });
 authStatus.textContent=error?error.message:"تم تسجيل الدخول";
 loadApps();
}

async function register(){
 const {error}=await supabase.auth.signUp({
  email:email.value,password:password.value
 });
 authStatus.textContent=error?error.message:"تم إنشاء الحساب";
}

async function logout(){
 await supabase.auth.signOut();
 authStatus.textContent="تم تسجيل الخروج";
}

async function addApp(){
 const {error}=await supabase.from("apps").insert({
  name:appName.value,
  description:appDesc.value
 });
 if(error) alert(error.message);
 loadApps();
}

async function loadApps(){
 const {data}=await supabase.from("apps").select("*").order("created_at",{ascending:false});
 apps.innerHTML="";
 data.forEach(a=>{
  apps.innerHTML+=`
   <div class="app">
    <h3>${a.name}</h3>
    <p>${a.description}</p>
    <small>${a.created_at}</small>
   </div>`;
 });
}

loadApps();
</script>
</body>
</html>
