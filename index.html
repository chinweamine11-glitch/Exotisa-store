
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Exotisa Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body{font-family:tahoma;background:#f5f5f5;margin:0}
header{background:#4f46e5;color:#fff;padding:20px;text-align:center}
.app{background:#fff;margin:15px;padding:15px;border-radius:10px}
button{background:#4f46e5;color:#fff;border:0;padding:8px 14px;border-radius:6px;cursor:pointer}
input{padding:8px;width:100%;margin-bottom:10px}
</style>
</head>
<body>

<header>
<h1>Exotisa Store</h1>
<p>متجر التطبيقات الذكي</p>
</header>

<section id="auth" style="padding:20px">
<h3>تسجيل الدخول</h3>
<input id="email" placeholder="email">
<input id="password" type="password" placeholder="password">
<button onclick="login()">دخول</button>
<button onclick="register()">تسجيل</button>
</section>

<section id="apps" style="padding:20px">
<h3>التطبيقات</h3>
<div id="appsList"></div>
</section>

<script>
const supabase = supabaseJs.createClient(
  "https://qjfpkwyglveukzfazmzo.supabase.co",
  "PUT_YOUR_PUBLIC_ANON_KEY_HERE"
);

async function login(){
 const {error}=await supabase.auth.signInWithPassword({
  email:email.value,password:password.value
 });
 if(error) alert(error.message); else loadApps();
}

async function register(){
 const {error}=await supabase.auth.signUp({
  email:email.value,password:password.value
 });
 if(error) alert(error.message); else alert("تم إنشاء الحساب");
}

async function loadApps(){
 const {data,error}=await supabase.from("apps").select("*");
 appsList.innerHTML="";
 data.forEach(a=>{
  appsList.innerHTML+=`
   <div class="app">
    <h4>${a.name}</h4>
    <p>${a.description}</p>
    <small>تحميلات: ${a.downloads}</small>
   </div>`;
 });
}

loadApps();
</script>
</body>
</html>
